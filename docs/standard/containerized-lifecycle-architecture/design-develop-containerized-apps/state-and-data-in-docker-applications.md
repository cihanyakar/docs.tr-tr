---
title: Durum ve Docker uygulamalarında veri
description: Microsoft Platformu ve araçları ile kapsayıcı Docker uygulaması yaşam
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 09/22/2017
ms.openlocfilehash: 7454b25cdb1bede87c6f0bd179fcabd489922263
ms.sourcegitcommit: ccd8c36b0d74d99291d41aceb14cf98d74dc9d2b
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 12/10/2018
ms.locfileid: "53154183"
---
# <a name="state-and-data-in-docker-applications"></a><span data-ttu-id="2e965-103">Durum ve Docker uygulamalarında veri</span><span class="sxs-lookup"><span data-stu-id="2e965-103">State and data in Docker applications</span></span>

<span data-ttu-id="2e965-104">Bir basit kapsayıcıların değiştirilemezlik ' dir.</span><span class="sxs-lookup"><span data-stu-id="2e965-104">A primitive of containers is immutability.</span></span> <span data-ttu-id="2e965-105">Bir VM'ye karşılaştırıldığında kapsayıcıları sık karşılaştıkları kaybolur yok.</span><span class="sxs-lookup"><span data-stu-id="2e965-105">When compared to a VM, containers don't disappear as a common occurrence.</span></span> <span data-ttu-id="2e965-106">Bir VM, çeşitli biçimlerde ölü işlemleri, aşırı yüklenmiş CPU ya da tam ya da başarısız bir disk başarısız olabilir.</span><span class="sxs-lookup"><span data-stu-id="2e965-106">A VM might fail in various forms from dead processes, overloaded CPU, or a full or failed disk.</span></span> <span data-ttu-id="2e965-107">Henüz VM kullanılabilir olmasını bekliyoruz ve RAID sürücüleri sürücü hataları korumak güvence altına almak için sıradan bir hale gelir.</span><span class="sxs-lookup"><span data-stu-id="2e965-107">Yet, we expect the VM to be available and RAID drives are commonplace to assure drive failures maintain data.</span></span>

<span data-ttu-id="2e965-108">İşlem örneklerinin olmasını kapsayıcıları düşündüğünüz ancak.</span><span class="sxs-lookup"><span data-stu-id="2e965-108">However, containers are thought to be instances of processes.</span></span> <span data-ttu-id="2e965-109">Bir işlem kalıcı durumunu korumak değil.</span><span class="sxs-lookup"><span data-stu-id="2e965-109">A process doesn't maintain durable state.</span></span> <span data-ttu-id="2e965-110">Yerel depolama alanı için bir kapsayıcı yazabilirsiniz olsa da, örneği çevresinde süresiz olarak olacağı varsayılarak tek kopyası bellek kalıcı olduğu varsayılarak için eşdeğer olacaktır.</span><span class="sxs-lookup"><span data-stu-id="2e965-110">Even though a container can write to its local storage, assuming that the instance will be around indefinitely would be equivalent to assuming a single-copy memory will be durable.</span></span> <span data-ttu-id="2e965-111">Sonlandırılan, işlemler, olduğu gibi kapsayıcılar da çoğaltılır veya yönetilen bir kapsayıcı Düzenleyicisi ile bunların taşınmış olabilir varsaymanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="2e965-111">You should assume that containers, like processes, are duplicated, killed, or, when managed with a container orchestrator, they might be moved.</span></span>

<span data-ttu-id="2e965-112">Docker kullanan bir özellik olarak bilinen bir *kaplama dosya sistemi* depolayan herhangi bir yazarken kopyalama işlemini uygulamak için bu temel özgün görüntüye kıyasla, bir kapsayıcı kök dosya sistemine bilgiler güncelleştirilmiştir.</span><span class="sxs-lookup"><span data-stu-id="2e965-112">Docker uses a feature known as an *overlay file system* to implement a copy-on-write process that stores any updated information to the root file system of a container, compared to the original image on which it is based.</span></span> <span data-ttu-id="2e965-113">Kapsayıcı sistemden sonradan silinirse bu değişiklikler kaybolur.</span><span class="sxs-lookup"><span data-stu-id="2e965-113">These changes are lost if the container is subsequently deleted from the system.</span></span> <span data-ttu-id="2e965-114">Bir kapsayıcı varsayılan olarak bu nedenle, bir şekilde kalıcı depolama alanı yok.</span><span class="sxs-lookup"><span data-stu-id="2e965-114">A container, therefore, does not have persistent storage by default.</span></span> <span data-ttu-id="2e965-115">Kapsayıcı durumu kaydetmek mümkün olsa da, bu geçici bir sistem tasarımı kapsayıcı mimarisi ilkesini çakışıyor olabilir.</span><span class="sxs-lookup"><span data-stu-id="2e965-115">Although it's possible to save the state of a container, designing a system around this would be in conflict with the principle of container architecture.</span></span>

<span data-ttu-id="2e965-116">Docker uygulamalarında kalıcı verileri yönetmek için yaygın çözümleri vardır:</span><span class="sxs-lookup"><span data-stu-id="2e965-116">To manage persistent data in Docker applications, there are common solutions:</span></span>

-   <span data-ttu-id="2e965-117">[**Veri birimleri**](https://docs.docker.com/engine/tutorials/dockervolumes/) bu belirtilenlerle yalnızca ana bilgisayara bağlayın.</span><span class="sxs-lookup"><span data-stu-id="2e965-117">[**Data volumes**](https://docs.docker.com/engine/tutorials/dockervolumes/) These mount to the host, as just noted.</span></span>

-   <span data-ttu-id="2e965-118">[**Veri birim kapsayıcıları**](https://docs.docker.com/engine/tutorials/dockervolumes/#/creating-and-mounting-a-data-volume-container) bunlar arasında geçiş yapabilir, dış bir kapsayıcısını kullanan kapsayıcılar arasında paylaşılan depolama sağlar.</span><span class="sxs-lookup"><span data-stu-id="2e965-118">[**Data volume containers**](https://docs.docker.com/engine/tutorials/dockervolumes/#/creating-and-mounting-a-data-volume-container) These provide shared storage across containers, using an external container that can cycle.</span></span>

-   <span data-ttu-id="2e965-119">[**Birim eklentileri**](https://docs.docker.com/engine/tutorials/dockervolumes/#/mount-a-shared-storage-volume-as-a-data-volume) bu uzun vadeli kalıcılığını sağlayan uzak konumlara birimleri bağlayın.</span><span class="sxs-lookup"><span data-stu-id="2e965-119">[**Volume Plugins**](https://docs.docker.com/engine/tutorials/dockervolumes/#/mount-a-shared-storage-volume-as-a-data-volume) These mount volumes to remote locations, providing long-term persistence.</span></span>

-   <span data-ttu-id="2e965-120">**Uzak Veri kaynaklarını** örnekler SQL ve NO-SQL veritabanlarını dahil et veya önbellek Redis gibi hizmetler.</span><span class="sxs-lookup"><span data-stu-id="2e965-120">**Remote data sources** Examples include SQL and NO-SQL databases or cache services like Redis.</span></span>

-   <span data-ttu-id="2e965-121">[**Azure depolama**](https://docs.microsoft.com/azure/storage/) bu kadar uzun süreli Kalıcılık kapsayıcıları en iyi şekilde sağlayan bir hizmet (PaaS) depolama coğrafi dağıtılabilir platform sağlar.</span><span class="sxs-lookup"><span data-stu-id="2e965-121">[**Azure Storage**](https://docs.microsoft.com/azure/storage/) This provides geo distributable platform as a service (PaaS) storage, providing the best of containers as long-term persistence.</span></span>

<span data-ttu-id="2e965-122">Veri birimleri atlama veya daha fazla kapsayıcı içindeki dizinlerin atanan özel [birleşim dosya sistemi](https://docs.docker.com/glossary/?term=Union%20file%20system).</span><span class="sxs-lookup"><span data-stu-id="2e965-122">Data volumes are specially designated directories within one or more containers that bypass the [Union File System](https://docs.docker.com/glossary/?term=Union%20file%20system).</span></span> <span data-ttu-id="2e965-123">Veri birimleri, veri, kapsayıcının yaşam döngüsünü bağımsız korumak için tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="2e965-123">Data volumes are designed to maintain data, independent of the container's life cycle.</span></span> <span data-ttu-id="2e965-124">Bir kapsayıcı kaldırın ya da "Çöp toplama" birimleri, bir kapsayıcı tarafından artık başvurulmayan olacak docker bu nedenle hiçbir zaman otomatik olarak birimleri siler.</span><span class="sxs-lookup"><span data-stu-id="2e965-124">Docker therefore never automatically deletes volumes when you remove a container, nor will it "garbage collect" volumes that are no longer referenced by a container.</span></span> <span data-ttu-id="2e965-125">Konak işletim sistemi göz atabilir ve veri birimlerini tutumlu kullanmak için başka bir neden olduğu herhangi bir birim verileri özgürce düzenleyin.</span><span class="sxs-lookup"><span data-stu-id="2e965-125">The host operating system can browse and edit the data in any volume freely, which is just another reason to use data volumes sparingly.</span></span>

<span data-ttu-id="2e965-126">A [veri birim kapsayıcısı](https://docs.docker.com/glossary/?term=volume) normal veri birimleri üzerinde bir geliştirme olduğu.</span><span class="sxs-lookup"><span data-stu-id="2e965-126">A [data volume container](https://docs.docker.com/glossary/?term=volume) is an improvement over regular data volumes.</span></span> <span data-ttu-id="2e965-127">İçinde oluşturulan (daha önce açıklandığı gibi) bir veya daha fazla veri hacimleri sahip aslında bir etkinliği olmayan kapsayıcıdır.</span><span class="sxs-lookup"><span data-stu-id="2e965-127">It is essentially a dormant container that has one or more data volumes created within it (as described earlier).</span></span> <span data-ttu-id="2e965-128">Veri birim kapsayıcısı, bir merkezi takma noktasından kapsayıcılar için erişim sağlar.</span><span class="sxs-lookup"><span data-stu-id="2e965-128">The data volume container provides access to containers from a central mount point.</span></span> <span data-ttu-id="2e965-129">Bu yöntemin erişim veri kapsayıcısı mantıksal bağlama noktası yapma, özgün verilerin konumu soyutlar avantajdır.</span><span class="sxs-lookup"><span data-stu-id="2e965-129">The benefit of this method of access is that it abstracts the location of the original data, making the data container a logical mount point.</span></span> <span data-ttu-id="2e965-130">Ayrıca, "uygulama" kapsayıcıları oluşturulması ve adanmış bir kapsayıcıda kalıcı verileri korurken yok veri kapsayıcısı birimlere erişen sağlar.</span><span class="sxs-lookup"><span data-stu-id="2e965-130">It also allows "application" containers accessing the data container volumes to be created and destroyed while keeping the data persistent in a dedicated container.</span></span>

<span data-ttu-id="2e965-131">Şekil 4-5 normal Docker birimleri depolama kapsayıcıları dışında ancak ana sunucu/VM fiziksel sınırları içinde yerleştirilebilir gösterir.</span><span class="sxs-lookup"><span data-stu-id="2e965-131">Figure 4-5 shows that regular Docker volumes can be placed on storage out of the containers themselves but within the host server/VM physical boundaries.</span></span> <span data-ttu-id="2e965-132">*Docker birimler bir konak sunucu/VM'den bir birim başka bir kullanabilme sahip değilseniz*.</span><span class="sxs-lookup"><span data-stu-id="2e965-132">*Docker volumes don't have the ability to use a volume from one host server/VM to another*.</span></span>

![](./media/image5.png)

<span data-ttu-id="2e965-133">Şekil 4-5: Veri birimleri ve kapsayıcı uygulamalar/kapsayıcılar için dış veri kaynakları</span><span class="sxs-lookup"><span data-stu-id="2e965-133">Figure 4-5: Data volumes and external data sources for containers apps/containers</span></span>

<span data-ttu-id="2e965-134">Sabit konak/VM, Docker konağının olmadığı sürece, birimleri iş verilerini çünkü kullanmamasını önerilir doğrulanamadığından ayrı fiziksel ana bilgisayarda çalışan kapsayıcılar arasında paylaşılan verileri yönetmek için Docker kapsayıcıları bir orchestrator'da kullanırken kapsayıcılar, bir küme tarafından gerçekleştirilecek iyileştirmeleri bağlı olarak başka bir konağa taşınıp beklenir.</span><span class="sxs-lookup"><span data-stu-id="2e965-134">Due to the inability to manage data shared between containers that run on separate physical hosts, it is recommended that you not use volumes for business data unless the Docker host is a fixed host/VM, because when using Docker containers in an orchestrator, containers are expected to be moved from one to another host, depending on the optimizations to be performed by the cluster.</span></span>

<span data-ttu-id="2e965-135">Bu nedenle, normal veri hacimleri izleme dosyaları, geçici dosyaları ya da iş veri tutarlılığı, ya da birden çok konak genelinde kapsayıcılarınızı taşındığında etkilemez herhangi benzer kavramı çalışmak için iyi bir mekanizması mevcuttur.</span><span class="sxs-lookup"><span data-stu-id="2e965-135">Therefore, regular data volumes are a good mechanism to work with trace files, temporal files, or any similar concept that won't affect the business data consistency if or when your containers are moved across multiple hosts.</span></span>

<span data-ttu-id="2e965-136">[Birim eklentileri](https://docs.docker.com/engine/extend/plugins_volume/) veri kümesindeki tüm konaklar arasında sağlayın.</span><span class="sxs-lookup"><span data-stu-id="2e965-136">[Volume plug-ins](https://docs.docker.com/engine/extend/plugins_volume/) provide data across all hosts in a cluster.</span></span> <span data-ttu-id="2e965-137">Tüm birim eklentileri eşit olarak oluşturulmuş olsa da, birim eklentileri genellikle değişmez kapsayıcılardan te dış kalıcı güvenilir depolama sağlar.</span><span class="sxs-lookup"><span data-stu-id="2e965-137">Although not all volume plug-ins are created equally, volume plug-ins typically provide externalized persistent reliable storage from the immutable containers.</span></span>

<span data-ttu-id="2e965-138">Uzak Veri kaynaklarını ve SQL veritabanı, DocumentDB ve Redis gibi uzak bir önbellek gibi önbellekler kapsayıcı geliştirme ile aynı olacaktır.</span><span class="sxs-lookup"><span data-stu-id="2e965-138">Remote data sources and caches like SQL Database, DocumentDB, or a remote cache like Redis would be the same as developing without containers.</span></span> <span data-ttu-id="2e965-139">Bu, iş uygulama verilerini depolamak için tercih edilen ve kendini kanıtlamış, yollardan biridir.</span><span class="sxs-lookup"><span data-stu-id="2e965-139">This is one of the preferred, and proven, ways to store business application data.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="2e965-140">[Önceki](monolithic-applications.md)
>[İleri](soa-applications.md)</span><span class="sxs-lookup"><span data-stu-id="2e965-140">[Previous](monolithic-applications.md)
[Next](soa-applications.md)</span></span>